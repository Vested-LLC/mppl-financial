window.addEventListener("DOMContentLoaded",function(){function n(){return 1024<=window.innerWidth&&0==!!("ontouchstart"in window||navigator.msMaxTouchPoints)}document.querySelector(".phone-link .elementor-widget-container")&&(o=(d=document.querySelector(".phone-link .elementor-widget-container").textContent.trim()).replace(/[^+\d]+/g,""),(I=document.createElement("a")).setAttribute("href","tel:"+o),I.textContent=d,document.querySelector(".phone-link .elementor-widget-container").textContent="",document.querySelector(".phone-link .elementor-widget-container").appendChild(I));var e=".posts-swiper",o=document.querySelectorAll(e);if("IntersectionObserver"in window){let t=new IntersectionObserver(e=>{e.forEach(e=>{e.target.swiper&&(e.target.swiper.params.autoplay.delay=5e3,e.target.swiper.update(),e.isIntersecting?e.target.swiper.autoplay.start():e.target.swiper.autoplay.stop())})},{threshold:.5});o.forEach(e=>{e.swiper&&t.observe(e)})}let a=document.querySelector(".panels-container"),t=document.querySelectorAll(".panel-btn a"),s=document.querySelector(".panel-img"),i=document.querySelectorAll(".panel"),l=document.querySelector(".panel-bg");function r(e){var t=document.getElementById(e.closest(".panel-btn").getAttribute("aria-controls")),o=t.getAttribute("data-color");if(n()&&(a.style.transition="height .4s ease-in-out"),!t.classList.contains("js-show")){s.style.opacity="0",setTimeout(function(){s.style.display="none"},500),l.classList.add("js-show"),i.forEach(function(e){e.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false"),e.classList.remove("js-show")}),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"),t.classList.add("js-show");let e=t.offsetHeight;l.style.backgroundColor="#"+o,1024<=window.innerWidth?requestAnimationFrame(function(){a.style.height=e+80+"px"}):(a.style.height=e+"px",console.log("no 200px offset"))}}t.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),r(t),a.scrollIntoView({behavior:"smooth",block:"start"})}),n()&&t.addEventListener("mouseenter",function(){r(t)})}),document.querySelectorAll(".footer-social ul li").forEach(function(e){var e=e.querySelector("a"),t=e.textContent;t&&e.classList.add("social-icon",t.toLowerCase())});let c=document.querySelector(".share-buttons");if(c){let t=document.querySelector(".share-toggle a"),e=document.querySelector(".copy-link"),o=document.querySelector(".copied");t.addEventListener("click",function(e){t.classList.toggle("js-active"),e.preventDefault(),c.classList.contains("js-active")?c.style="animation: fadeOut .25s normal ease-in-out forwards;":c.style="animation: fadeIn .25s normal ease-in-out forwards",c.classList.toggle("js-active")}),e.addEventListener("click",function(e){e.preventDefault(),o.style.opacity="1",o.style.pointerEvents="all",o.style.visibility="visible",navigator.clipboard.writeText(window.location.href).then(()=>{setTimeout(function(){o.style.opacity="0",o.style.pointerEvents="none",o.style.visibility="hidden"},1250)})})}var d=document.querySelectorAll(".filter-group.dropdown");if(d.length&&d.forEach(function(t){let o=t.querySelector("button");o.addEventListener("click",function(e){e.preventDefault(),o.parentNode.classList.contains("js-active")?o.parentNode.classList.remove("js-active"):o.parentNode.classList.add("js-active")}),document.addEventListener("click",function(e){t.contains(e.target)||o.contains(e.target)||t.classList.remove("js-active")})}),document.body.classList.contains("single-post")){let t=sessionStorage.getItem("categoryParam"),o=sessionStorage.getItem("topic"),e=document.querySelectorAll(".insights-link");console.log(null===t,o),null!==t&&null!==o?e.forEach(function(e){e.querySelector("a").setAttribute("href",`/insights?category=${t}&topic=`+o)}):null===t&&null!==o?e.forEach(function(e){e.querySelector("a").setAttribute("href","/insights?topic="+o)}):null!==t&&null===o&&e.forEach(function(e){e.querySelector("a").setAttribute("href","/insights?category="+t)})}if(document.body.classList.contains("blog")){let a=document.getElementById("posts-container"),s=document.querySelector(".load-more"),i=new URLSearchParams(window.location.search),e=i.get("category"),t=i.get("topic"),l=1;function u(e,t){var o=null!==sessionStorage.getItem(""+t)?sessionStorage.getItem(""+t):i.get(""+t);null!==o&&((e=document.getElementById(e)).previousElementSibling.textContent=e.querySelector(`button[data-${t}="${o}"]`).textContent,e.querySelector(`button[data-${t}="${o}"]`).classList.add("js-active"))}function m(o,n){document.getElementById(o).addEventListener("click",function(e){e.preventDefault();var t=e.target.closest("button");t&&((selected=t.getAttribute("data-"+n))&&null!==selected?(i.set(n,selected),sessionStorage.setItem(n,selected)):(i.delete(n),sessionStorage.removeItem(n)),h(document.getElementById(o),t),e.target.parentNode.parentNode.previousElementSibling.textContent=e.target.textContent,t.parentNode.parentNode.parentNode.classList.remove("js-active"),g())})}function p(e){e=document.querySelectorAll(`article[data-page="${e}"`);console.log(e),e.forEach(function(e,t=0){setTimeout(function(){e.classList.remove("elementor-invisible"),e.classList.add("animated"),e.classList.add("fadeInUp")},300*t),t++})}function y(e){e=document.querySelector(`article[data-page="${e}"`);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}function g(){l=1,totalPages=null,a.innerHTML="",f(l)}function f(e=1){var t=sessionStorage.getItem("category")||"",o=sessionStorage.getItem("topic")||"",n=(v(),new FormData);n.append("action","fetch_filtered_posts"),null!==t&&n.append("category",t),null!==o&&n.append("topic",o),n.append("paged",e),fetch(ajaxurl.url,{method:"POST",body:n}).then(e=>e.text()).then(e=>{a.insertAdjacentHTML("beforeend",e),p(l);e=a.querySelector(".pagination");e&&(totalPages=parseInt(e.dataset.totalPages,10),e.remove()),s.dataset.totalPages=totalPages,l<totalPages?(s.style.opacity="1",s.style.visibility="visible",s.style.pointerEvents="all",s.setAttribute("aria-hidden",!1)):(s.style.opacity="0",s.style.visibility="hidden",s.style.pointerEvents="none",s.setAttribute("aria-hidden",!0)),l++}).catch(()=>{a.innerHTML="<p>Error loading team members.</p>"})}function h(e,t){e.querySelectorAll("button").forEach(e=>e.classList.remove("js-active")),t.classList.add("js-active")}function v(){var e=new URLSearchParams,t=sessionStorage.getItem("category"),o=sessionStorage.getItem("topic");t&&e.set("category",t),o&&e.set("topic",o),t=e.toString()?window.location.pathname+"?"+e.toString():window.location.pathname,window.history.pushState({},"",t)}function b(){document.querySelectorAll(".filter-group").forEach(function(e){var t=e.dataset.filter;console.log(t),e.querySelector("button").textContent="All",e.querySelectorAll("button").forEach(function(e){e.classList.remove("js-active")})}),i.delete("category"),i.delete("topic"),sessionStorage.clear(),selectedTeam="",selectedLocation="",g()}e&&null!==e&&sessionStorage.setItem("category",e),t&&null!==t&&sessionStorage.setItem("topic",t),u("category-filter","category"),u("topic-filter","topic"),m("category-filter","category"),m("topic-filter","topic"),s.addEventListener("click",function(){f(l)}),new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{1===e.nodeType&&(e=e.querySelector("#no-posts button"))&&e.addEventListener("click",function(){b()})})})}).observe(document.body,{childList:!0,subtree:!0}),g(paged=l,initialLoad=!0)}if(document.body.classList.contains("single-team")){let t=sessionStorage.getItem("employees"),o=sessionStorage.getItem("location"),e=document.querySelectorAll(".team-link");null!==t&&null!==o?e.forEach(function(e){e.querySelector("a").setAttribute("href",`/our-team?employees=${t}&location=`+o)}):null!==o?e.forEach(function(e){e.querySelector("a").setAttribute("href","/our-team?location="+o)}):null!==t&&e.forEach(function(e){e.querySelector("a").setAttribute("href","/our-team?employees="+t)})}if(document.body.classList.contains("post-type-archive-team")){let s=document.getElementById("team-container"),i=document.querySelector(".load-more"),a=new URLSearchParams(window.location.search),e=(a.toString()&&S(),a.get("employees")),t=a.get("location"),l=1;function u(e,t){var o=null!==sessionStorage.getItem(""+t)?sessionStorage.getItem(""+t):a.get(""+t);console.log("Dataset Value"+o),null!==o&&((e=document.getElementById(e)).previousElementSibling.textContent=e.querySelector(`button[data-${t}="${o}"]`).textContent,e.querySelector(`button[data-${t}="${o}"]`).classList.add("js-active"))}function m(o,n){document.getElementById(o).addEventListener("click",function(e){e.preventDefault();var t=e.target.closest("button");t&&((selected=t.getAttribute("data-"+n))&&null!==selected?(a.set(n,selected),sessionStorage.setItem(n,selected)):(a.delete(n),sessionStorage.removeItem(n)),h(document.getElementById(o),t),e.target.parentNode.parentNode.previousElementSibling.textContent=e.target.textContent,t.parentNode.parentNode.parentNode.classList.remove("js-active"),w(),S())})}function S(){var e=s.getBoundingClientRect().top+window.pageYOffset-235;window.scrollTo({top:e,behavior:"smooth"})}function p(e){document.querySelectorAll(`div[data-page="${e}"`).forEach(function(e,t=0){setTimeout(function(){e.classList.remove("elementor-invisible"),e.classList.add("animated"),e.classList.add("fadeInUp")},300*t),t++})}function y(e){e=document.querySelector(`article[data-page="${e}"`);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}function w(){l=1,totalPages=null,s.innerHTML="",L(l)}function L(e=1,t=!1){var o=sessionStorage.getItem("employees")||"",n=sessionStorage.getItem("location")||"",a=(v(),new FormData);a.append("action","fetch_filtered_team_members"),null!==o&&a.append("employees",o),null!==n&&a.append("location",n),a.append("paged",e),fetch(ajaxurl.url,{method:"POST",body:a}).then(e=>e.text()).then(e=>{s.insertAdjacentHTML("beforeend",e),t||y(l),p(l);e=s.querySelector(".pagination");e&&(totalPages=parseInt(e.dataset.totalPages,10),e.remove()),i.dataset.totalPages=totalPages,console.log(l,totalPages),l<totalPages?(i.style.opacity="1",i.style.visibility="visible",i.style.pointerEvents="all",i.setAttribute("aria-hidden",!1)):(i.style.opacity="0",i.style.visibility="hidden",i.style.pointerEvents="none",i.setAttribute("aria-hidden",!0)),l++}).catch(()=>{s.innerHTML="<p>Error loading team members.</p>"})}function h(e,t){e.querySelectorAll("button").forEach(e=>e.classList.remove("js-active")),t.classList.add("js-active")}function v(){var e=new URLSearchParams,t=sessionStorage.getItem("employees"),o=sessionStorage.getItem("location");t&&e.set("employees",t),o&&e.set("location",o),t=e.toString()?window.location.pathname+"?"+e.toString():window.location.pathname,window.history.pushState({},"",t)}function b(){document.querySelectorAll(".filter-group").forEach(function(e){var t=e.dataset.filter;console.log(t),e.querySelector("button").textContent="All",e.querySelectorAll("button").forEach(function(e){e.classList.remove("js-active")})}),a.delete("employees"),a.delete("location"),sessionStorage.clear(),e="",t="",w()}e&&null!==e&&sessionStorage.setItem("employees",e),t&&null!==t&&sessionStorage.setItem("location",t),u("employees-filter","employees"),u("location-filter","location"),m("employees-filter","employees"),m("location-filter","location"),i.addEventListener("click",function(){L(l)}),new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{1===e.nodeType&&(e=e.querySelector("#no-posts button"))&&e.addEventListener("click",function(){b()})})})}).observe(document.body,{childList:!0,subtree:!0}),w()}var E=document.getElementById("nav-wrapper"),q=document.getElementById("nav-open"),A=document.getElementById("nav"),x=(document.getElementById("nav-overlay"),document.getElementById("nav-close")),I=document.querySelector(".menu").querySelectorAll("li.menu-item-has-children");function k(){document.body.classList.remove("js-fixed"),E.classList.remove("js-show"),E.style.display="block;",E.setAttribute("aria-expanded","true"),q.setAttribute("aria-expanded","false"),q.focus()}A.querySelector("[aria-current]")&&A.querySelector("[aria-current]").addEventListener("click",k),I.forEach(function(o){o.classList.add("collapse"),o.setAttribute("aria-expanded","false");let t=o.querySelector(".sub-menu");t.style.overflow="hidden",t.style.display="none",t.style.maxHeight="0px",t.style.transition="max-height 0.3s ease-in-out",o.querySelector(".current_page_item")&&o.classList.add("js-current"),o.addEventListener("click",function(){var e=o.classList.contains("show");if(o.parentElement.querySelectorAll("li.menu-item-has-children").forEach(function(t){if(t!==o&&t.classList.contains("show")){let e=t.querySelector(".sub-menu");e&&(e.style.maxHeight=e.scrollHeight+"px",requestAnimationFrame(()=>{e.style.maxHeight="0px"}),setTimeout(()=>{e.style.display="none"},300),t.classList.remove("show"),t.setAttribute("aria-expanded","false"))}}),e)t.style.maxHeight=t.scrollHeight+"px",requestAnimationFrame(()=>{t.style.maxHeight="0px"}),setTimeout(()=>{t.style.display="none"},300),o.classList.remove("show"),o.setAttribute("aria-expanded","false");else{t.style.display="block";let e=t.scrollHeight;t.style.maxHeight="0px",requestAnimationFrame(()=>{t.style.maxHeight=e+"px"}),o.classList.add("show"),o.setAttribute("aria-expanded","true"),setTimeout(()=>{t.style.maxHeight="none"},300)}})}),q.addEventListener("click",function(e){e.preventDefault(),scrollPosition=window.scrollY,document.body.classList.add("js-fixed"),E.style.display="block",E.setAttribute("aria-expanded","false"),setTimeout(function(){E.classList.add("js-show")},300),q.setAttribute("aria-expanded","true"),x.focus()}),x.addEventListener("click",k),A.addEventListener("keydown",function(e){var t,o,n;"Tab"===e.key?(o=(t=A.querySelectorAll('a, button, [tabindex="0"]'))[0],n=t[t.length-1],0!==t.length&&(e.shiftKey&&document.activeElement===o?(n.focus(),e.preventDefault()):e.shiftKey||document.activeElement!==n||(o.focus(),e.preventDefault()))):"Escape"!==e.key&&"Esc"!==e.key||(e.preventDefault(),k())}),document.querySelectorAll(".gfield--type-captcha label").forEach(function(e){e.classList.add("sr-only"),e.setAttribute("aria-label","CAPTCHA (Invisible Verification Method) - No Action Required")})}),window.addEventListener("resize",function(){let e=document.querySelector(".panels-container"),t=document.querySelector(".panel.js-show");t&&(t.scrollHeight,1024<=window.innerWidth?requestAnimationFrame(function(){e.style.height=panelToShowHeight+80+"px"}):(e.style.height=panelToShowHeight+"px",console.log("no 200px offset")))}),jQuery(document).on("elementor/popup/show",()=>{setTimeout(()=>{window.gform.recaptcha.renderRecaptcha()},100)});